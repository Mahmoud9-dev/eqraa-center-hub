# Eqraa Center – Simplified Requirements Document

الإصدار: 3.0 (مبسط بناءً على متطلبات العميل)
المكدس: Next.js 16 + TypeScript + Tailwind CSS
التاريخ: 2025-11-02

## 1) النطاق المبسط (Simplified Scope)

### 1.1) يشمل (Core Features)

- **نظام الأيقونات المتداخل**: واجهة بصرية تعتمد على أيقونات رئيسية تفتح أيقونات فرعية
- **إدارة المشايخ**: عرض بسيط للمشايخ مع معلومات أساسية
- **جلسات القرآن**: إدارة جلسات القرآن الأساسية
- **دروس التجويد**: إدارة دروس التجويد الأساسية
- **المواد التربوية**: مواد ومناهج تربوية أساسية
- **إدارة الاجتماعات**: اجتماعات المركز الأساسية
- **نظام المقترحات**: مع أعمدة حالة (تم/لم يتم)

### 1.2) لا يشمل (Out of Scope - Phase 1)

- تقارير متقدمة ورسوم بيانية
- مصادقة متقدمة (OAuth, SAML)
- نظام إشعارات فوري
- تطبيق جوال أصلي
- تكامل مع أنظمة خارجية
- ميزات إحصائية معقدة

### 1.3) الجمهور المستهدف (Target Audience)

- **إدارة المركز**: إدارة بسيطة للمشايخ والأقسام
- **المشايخ**: متابعة الطلاب والجلسات
- **المشرفون**: إدارة يومية بسيطة
- **أولياء الأمور**: (مرحلة لاحقة)

## 2) المكدس والمعمارية المبسطة (Simplified Tech Stack & Architecture)

### 2.1) الواجهة الأمامية (Frontend)

- **Next.js 16**: App Router، Server Components
- **React 19.2**: مع الميزات الأساسية
- **TypeScript**: للكتابة القوية
- **Tailwind CSS**: للتصميم البصري والأيقونات
- **لا مكتبات إضافية**: البساطة أولاً

### 2.2) الواجهة الخلفية (Backend)

- **Next.js API Routes**: للـ endpoints الأساسية
- **MongoDB**: مع تخزين بسيط
- **لا ODM معقد**: استخدام مباشر

### 2.3) البنية التحتية (Infrastructure)

- **Vercel**: للاستضافة
- **MongoDB Atlas**: لقاعدة البيانات
- **لا خدمات خارجية**: في المرحلة الأولى

## 3) نموذج البيانات المبسط (Simplified Data Model)

### 3.1) Student (الطالب)

```typescript
interface Student {
  id: string;
  name: string;
  teacherId: string;
  department: "quran" | "tajweed" | "tarbawi";
  isActive: boolean;
  createdAt: Date;
}
```

### 3.2) Teacher (الشيخ/المعلم)

```typescript
interface Teacher {
  id: string;
  name: string;
  specialization: string;
  department: string;
  isActive: boolean;
  createdAt: Date;
}
```

### 3.3) QuranSession (جلسة القرآن)

```typescript
interface QuranSession {
  id: string;
  studentId: string;
  teacherId: string;
  date: Date;
  surah: string;
  ayah: number;
  notes?: string;
  createdAt: Date;
}
```

### 3.4) Suggestion (المقترحات - جديد)

```typescript
interface Suggestion {
  id: string;
  title: string;
  description: string;
  status: "تم" | "لم يتم";
  createdAt: Date;
}
```

## 4) الواجهة وتدفّقات الاستخدام المبسطة (Simplified UI & Flows)

### 4.1) هيكل الواجهة الرئيسية (نظام الأيقونات)

```
┌─────────────────────────────────────────┐
│              مركز القرآن               │
├─────────────────────────────────────────┤
│                                         │
│  [الإدارة]  [القرآن]  [التجويد]        │
│                                         │
│  [التربوي]  [اجتماعات]  [مقترحات]      │
│                                         │
│           (تفتح الأيقونات الفرعية)     │
│                                         │
└─────────────────────────────────────────┘
```

### 4.2) تدفقات الاستخدام المبسطة

#### نظام الأيقونات المتداخل

1. **الأيقونات الرئيسية**: 6 أيقونات رئيسية في الشاشة الرئيسية
2. **الأيقونات الفرعية**: كل أيقونة رئيسية تفتح أيقونات فرعية
3. **العودة**: زر عودة للشاشة الرئيسية

#### إدارة المشايخ

1. **عرض المشايخ**: قائمة بسيطة بأسماء المشايخ
2. **إضافة شيخ**: نموذج بسيط لإضافة شيخ جديد
3. **تفاصيل الشيخ**: معلومات أساسية فقط

#### نظام المقترحات

1. **عرض المقترحات**: جدول بالأعمدة (العنوان، الحالة، التاريخ)
2. **إضافة مقترح**: نموذج بسيط
3. **تحديث الحالة**: تغيير الحالة (تم/لم يتم)

## 5) API المبسط (Simplified API)

### 5.1) Students API

```typescript
// GET /api/students
interface GetStudentsResponse {
  students: Student[];
}

// POST /api/students
interface CreateStudentBody {
  name: string;
  teacherId: string;
  department: string;
}
```

### 5.2) Suggestions API (جديد)

```typescript
// GET /api/suggestions
interface GetSuggestionsResponse {
  suggestions: Suggestion[];
}

// POST /api/suggestions
interface CreateSuggestionBody {
  title: string;
  description: string;
}

// PUT /api/suggestions/:id
interface UpdateSuggestionBody {
  status: "تم" | "لم يتم";
}
```

## 6) متطلبات تجربة المستخدم المبسطة (Simplified UX)

### 6.1) مبادئ التصميم

- **الأيقونات أولاً**: واجهة بصرية تعتمد على الأيقونات
- **RTL احترافي**: مع دعم كامل للعربية
- **التصميم التكيفي**: يعمل على جميع الأجهزة
- **البساطة**: لا تعقيد أو ميزات غير ضرورية
- **السرعة**: استجابة سريعة وتنقل سلس

### 6.2) متطلبات الأداء

- **FCP**: ≤ 1.0s (أسرع بسبب البساطة)
- **LCP**: ≤ 1.5s
- **API Response**: ≤ 100ms (أبسط الاستعلامات)
- **Bundle size**: < 200KB (بدون مكتبات إضافية)

## 7) خارطة التنفيذ المبسطة (Simplified Implementation Roadmap)

### المرحلة 1: الأساس والأيقونات (أسبوعان)

- [ ] إعداد المشروع Next.js 16 + TypeScript + Tailwind
- [ ] إنشاء نظام الأيقونات الرئيسية
- [ ] تصميم الأيقونات الفرعية
- [ ] إنشاء الشاشة الرئيسية

### المرحلة 2: الإدارة والمشايخ (أسبوع)

- [ ] CRUD المشايخ الأساسي
- [ ] عرض المشايخ في قسم الإدارة
- [ ] إضافة/تعديل المشايخ

### المرحلة 3: نظام المقترحات (أسبوع)

- [ ] إنشاء نموذج المقترحات
- [ ] عرض المقترحات مع أعمدة الحالة
- [ ] نظام تحديث الحالة (تم/لم يتم)

### المرحلة 4: القرآن والتجويد (أسبوعان)

- [ ] إدارة جلسات القرآن الأساسية
- [ ] إدارة دروس التجويد الأساسية
- [ ] ربط الطلاب بالمشايخ

### المرحلة 5: التربوي والاجتماعات (أسبوع)

- [ ] المواد التربوية الأساسية
- [ ] إدارة الاجتماعات البسيطة
- [ ] ربط جميع الأقسام

### المرحلة 6: التحسينات والنشر (أسبوع)

- [ ] تحسين الأداء
- [ ] الاختبار الأساسي
- [ ] النشر على Vercel

## 8) اختبار القبول المبسط (Simplified Acceptance Tests)

### 8.1) اختبارات الوظائف

- [ ] نظام الأيقونات يعمل بسلاسة
- [ ] إدارة 50+ طالب بكفاءة
- [ ] بحث في < 100ms
- [ ] نظام المقترحات يعمل بشكل صحيح

### 8.2) اختبارات الأداء

- [ ] Lighthouse score > 95 (بسبب البساطة)
- [ ] Bundle size < 200KB
- [ ] API response time < 100ms
- [ ] لا استعلامات معقدة

### 8.3) اختبارات الأمان

- [ ] XSS protection أساسي
- [ ] Data validation أساسي
- [ ] لا ثغرات معقدة

## 9) الملخص

هذه الخطة المبسطة تركز على:

- **البساطة**: نظام أيقونات بسيط وواضح
- **السرعة**: 8 أسابيع فقط (بدلاً من 15)
- **الفعالية**: يلبي متطلبات العميل بدقة
- **قابلية التطوير**: يمكن إضافة ميزات لاحقاً
- **تجربة المستخدم**: واجهة بصرية ومألوفة

## 10) التحسينات المستقبلية (Future Improvements)

### قصيرة المدى (بعد 3 أشهر)

- إضافة تقارير بسيطة
- نظام إشعارات أساسي
- تحسين البحث

### متوسطة المدى (بعد 6 أشهر)

- تطبيق جوال PWA
- تكامل مع WhatsApp
- نظام تحليلات بسيط

### طويلة المدى (بعد سنة)

- تطبيق جوال أصلي
- تكامل مع أنظمة المدارس
- ذكاء اصطناعي بسيط
